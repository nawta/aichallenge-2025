data:
  # データセットのディレクトリパス
  train_dir: "/aichallenge/python_workspace/tiny_lidar_net/dataset/train"
  val_dir: "/aichallenge/python_workspace/tiny_lidar_net/dataset/val"
  # Data Augmentation (トグル可能、デフォルトON)
  augment_mirror: true     # false にすると無効化
  augment_prob: 0.5        # 50%の確率で反転

model:
  # "TinyLidarNet", "TinyLidarNetSmall", "TinyLidarNetDeep", "TinyLidarNetFusion",
  # "TinyLidarNetStacked", "TinyLidarNetBiLSTM", "TinyLidarNetTCN"
  name: "TinyLidarNet"
  # LiDARのスキャン点数
  input_dim: 1080
  # 出力次元（[accel, steer]）
  output_dim: 2
  # kinematic state の次元
  state_dim: 13
  
  # === 時系列モデル用パラメータ ===
  # シーケンス長（Stacked, BiLSTM, TCN用）
  seq_len: 10
  # 隠れ層サイズ（BiLSTM, TCN用）
  hidden_size: 128
  # TCN用パラメータ
  tcn_levels: 3
  tcn_kernel_size: 3
  tcn_causal: false  # 学習時はnon-causal（未来も見る）

  # === Map モデル用パラメータ ===
  map_image_path: "/aichallenge/map_image/1.png"  # マップ画像パス
  map_feature_dim: 128  # マップ特徴量の次元

  # === BEV モデル用パラメータ ===
  lane_csv_path: "/aichallenge/workspace/src/aichallenge_submit/laserscan_generator/map/lane.csv"   # レーン境界CSVパス
  local_bev_size: 64    # ローカルBEVグリッドサイズ
  local_bev_channels: 2 # ローカルBEVチャンネル数
  local_resolution: 1.0 # ローカルBEV解像度 (m/pixel)
  global_bev_size: 128  # グローバルBEVグリッドサイズ
  global_bev_channels: 3 # グローバルBEVチャンネル数
  global_resolution: 1.5 # グローバルBEV解像度 (m/pixel)

train:
  batch_size: 64
  num_workers: 4
  epochs: 100
  lr: 0.001

  # Early stopping (null or 0 to disable)
  early_stop_patience: 15

  # LR Scheduler settings
  scheduler:
    # "cosine", "step", "plateau", or null to disable
    type: "cosine"
    # For cosine: T_max is set to epochs automatically
    # For step: step_size and gamma
    step_size: 30
    gamma: 0.1
    # For plateau: factor, patience, min_lr
    factor: 0.5
    patience: 5
    min_lr: 0.00001

  # 事前学習済みモデルのパス（指定しない場合は null）
  pretrained_path: null

  # 保存先設定
  save_dir: "/aichallenge/python_workspace/tiny_lidar_net/checkpoints"
  log_dir: "/aichallenge/python_workspace/tiny_lidar_net/logs"

  # 損失関数の重み設定
  loss:
    steer_weight: 1.0
    accel_weight: 1.0
